# -*- coding: utf-8 -*-
"""
Created on Thu May  2 10:51:25 2019

@author: msorc
"""

import numpy as np
from random import shuffle
from PIL import Image
import matplotlib.pyplot as plt
from keras.utils import to_categorical
import matplotlib.pyplot as plt

filename = 'cropped_data0.csv'

#Converts a JPG image to an array
def jpg_image_to_array(image_path):
  """
  Loads JPEG image into 3D Numpy array of shape 
  (width, height, channels)
  """
  with Image.open(image_path) as image:         
    im_arr = np.fromstring(image.tobytes(), dtype=np.uint8)
    im_arr = im_arr.reshape((image.size[1], image.size[0], 3))                                   
  return im_arr


#######################################################################
#Imports the CSV and separates the feature data from the labels
import csv
 
xdata = []
ydata = []
 
with open(filename) as csvDataFile:
    csvReader = csv.reader(csvDataFile)
    for row in csvReader:
        xdata.append(row[0])
        ydata.append(row[1])

del xdata[0]
del ydata[0]

images = []
for index in range(len(xdata)):
    rgb = jpg_image_to_array(xdata[index])
#    grey = rgb2gray(rgb) #Uncomment and change variable for grayscale
#    grey = grey.reshape(25, 25, 1)
    images.append(rgb)
images = np.asarray(images)
ydata = np.asarray(ydata)
